<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      {% block title %}{{ page_title|default:"Mi App" }}{% endblock %}
    </title>

    <link rel="stylesheet" href="{% static 'css/output.css' %}">

    <!-- Meta tags adicionales -->
    <meta
      name="description"
      content="{% block description %}Aplicación con arquitectura atómica{% endblock %}"
    />
    <meta name="author" content="Tu Nombre" />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/images/favicon.ico" />

    {% block extra_css %}{% endblock %}
  </head>
  <body class="{% block body_class %}bg-gray-50 font-sans{% endblock %}">
    <!-- Header -->
    {% if show_header|default:True %} {% include
    'components/organisms/header.html' %} {% endif %}

    <!-- Mensajes de Django -->
    {% if messages %}
    <div class="fixed top-4 right-4 z-50">
      {% for message in messages %} {% include 'components/atoms/alert.html'
      with type=message.tags content=message %} {% endfor %}
    </div>
    {% endif %}

    <!-- Contenido principal -->
    <main class="{% block main_class %}{% endblock %}">
      {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    {% if show_footer|default:True %} {% include
    'components/organisms/footer.html' %} {% endif %}

    <!-- Scripts -->
    <script>
      // Auto-hide alerts after 5 seconds
      document.addEventListener("DOMContentLoaded", function () {
        const alerts = document.querySelectorAll("[data-alert]");
        alerts.forEach((alert) => {
          setTimeout(() => {
            alert.style.opacity = "0";
            setTimeout(() => alert.remove(), 300);
          }, 5000);
        });
      });
    </script>

    {% block extra_js %}{% endblock %}
  </body>
</html>
